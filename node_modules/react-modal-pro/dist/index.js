"use strict";var e=require("react"),r=require("react/jsx-runtime"),n=require("react-dom");const t=e=>{const r=window.location.hash;return{isAlreadyInHash:r.split("#").some((r=>r===e)),currentHash:r}},o=e.createContext(void 0),s=({children:n})=>{const t=JSON.parse(JSON.stringify({open:!1,willBeClosed:!1})),[s,a]=e.useState({});return r.jsx(o.Provider,{value:{modals:s,setModal:e=>{a((r=>Object.assign(Object.assign({},r),{[e]:t})))},setOpen:(e,r)=>{a((n=>Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},n[e]),{open:r})})))},setWillBeClosed:(e,r)=>{a((n=>Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},n[e]),{willBeClosed:r})})))},removeModal:e=>{a((r=>{const n=Object.assign({},r);return n[e]&&(n[e]=t),n}))},initialModal:t},children:n})},a=()=>{const r=e.useContext(o);if(!r)throw new Error("useModals must be used within a ModalsProvider");return r},l=e.createContext(null),d=({children:n})=>{const[t,o]=e.useState(window.location.pathname+window.location.hash),s=()=>o(window.location.pathname+window.location.hash);e.useEffect((()=>{const e=window.history.pushState;window.history.pushState=function(...r){e.apply(window.history,r);const n=window.location.pathname+window.location.hash;o(n)}}),[]),e.useEffect((()=>(window.addEventListener("popstate",s),window.addEventListener("hashchange",s),()=>{window.removeEventListener("",s),window.removeEventListener("hashchange",s)})),[]);return r.jsx(l.Provider,{value:{path:t,navigate:e=>{window.history.pushState({},"",e)}},children:n})},i=()=>{const r=e.useContext(l);if(!r)throw new Error("useRouter must be used within a RouterProvider");return r},c=e.createContext(void 0),m=e=>{const{children:n,defaultBackdropClassName:t,defaultCanDismiss:o,defaultCloseDuration:s,defaultOpenDuration:a,defaultSheetClassName:l}=e,d={canDismiss:null==o||o,openDuration:null!=a?a:400,closeDuration:null!=s?s:300,sheetClassName:null!=l?l:"",backdropClassName:null!=t?t:""},{openDuration:i,closeDuration:m,sheetClassName:u,backdropClassName:h,canDismiss:p}=d;return r.jsx(c.Provider,{value:{openDuration:i,closeDuration:m,sheetClassName:u,backdropClassName:h,canDismiss:p},children:n})},u=r=>{const{modalKey:n,swipeThreshold:o,swipeToClose:s=!1,swipeToOpen:l=!1,sidebarDirection:d,backdropClassName:m,sheetClassName:u,canDismiss:h,openDuration:p,closeDuration:_,sheetRef:y,closeCb:f}=r,b=n.replaceAll(" ",""),{backdropClassName:g,canDismiss:v,closeDuration:w,openDuration:k,sheetClassName:x}=(()=>{const r=e.useContext(c);if(!r)throw new Error("useModalDefaults must be used within a ModalDefaultsProvider");return r})(),{open:O,willBeClosed:C,handleOpenModal:M,handleCloseModal:E}=(({key:r,closeCb:n,canDismiss:o,closeDuration:s})=>{var l;const d=`#${r}`,{navigate:c,path:m}=i(),{modals:u,setModal:h,setOpen:p,setWillBeClosed:_,removeModal:y,initialModal:f}=a(),b=null!==(l=u[r])&&void 0!==l?l:f,{willBeClosed:g}=b;return e.useEffect((()=>{u[r]||h(r)}),[r,m]),e.useEffect((()=>{const{isAlreadyInHash:e}=t(r);p(r,e),!e&&g&&_(r,!1)}),[r,m]),e.useEffect((()=>{g&&setTimeout((()=>{const{isAlreadyInHash:e}=t(r);e?window.history.back():y(r),n&&n()}),s-50)}),[r,g]),Object.assign(Object.assign({},b),{handleOpenModal:()=>{const{isAlreadyInHash:e,currentHash:n}=t(r);e||c(n+d)},handleCloseModal:()=>{o&&_(r,!0)}})})({key:b,closeCb:f,canDismiss:null!=h?h:v,closeDuration:null!=_?_:w}),{isNearStart:j,isNearEnd:S}=(({ref:r,offset:n=100,key:t})=>{const[o,s]=e.useState(!1),[a,l]=e.useState(!0);return e.useEffect((()=>{if(!r||!(null==r?void 0:r.current))return;const e=()=>{const e=r.current;if(!e)return;const{scrollTop:t,scrollHeight:o,clientHeight:a}=e,d=o-(t+a);l(t<=n),s(d<=n)},t=r.current;return t.addEventListener("scroll",e),()=>{t.removeEventListener("scroll",e)}}),[r,n,t]),{isNearEnd:o,isNearStart:a}})({key:b,ref:O?y:void 0}),D=s?"bottom"===d&&j||"top"===d&&S||"left"===d||"right"===d:l,$="left"===d||"right"===d?"horizontal":"vertical",N={onSwipeUp:()=>"top"===d&&s?E():"bottom"===d&&l?M():void 0,onSwipeDown:()=>"top"===d&&l?M():"bottom"===d&&s?E():void 0,onSwipeRight:()=>"left"===d&&l?M():"right"===d&&s?E():void 0,onSwipeLeft:()=>"right"===d&&l?M():"left"===d&&s?E():void 0};return(({direction:r,onSwipeUp:n,onSwipeDown:t,onSwipeLeft:o,onSwipeRight:s,threshold:a=100,enabled:l=!0,key:d})=>{const i=e.useRef(null),c=e.useRef({x:0,y:0}),m=e=>{i.current={x:e.touches[0].clientX,y:e.touches[0].clientY},c.current={x:0,y:0}},u=e=>{if(!i.current)return;const r=e.touches[0].clientX,n=e.touches[0].clientY,t=r-i.current.x,o=n-i.current.y;c.current={x:t,y:o}},h=()=>{if(!i.current)return;const{x:e,y:l}=c.current,d=Math.abs(e),m=Math.abs(l);({vertical:()=>{m>a&&(l>0&&t?t():n&&n())},horizontal:()=>{d>a&&(e>0&&s?s():o&&o())}})[r](),i.current=null,c.current={x:0,y:0}};e.useEffect((()=>{if(l)return window.addEventListener("touchstart",m),window.addEventListener("touchmove",u),window.addEventListener("touchend",h),()=>{window.removeEventListener("touchstart",m),window.removeEventListener("touchmove",u),window.removeEventListener("touchend",h)}}),[l,d])})(Object.assign(Object.assign({},N),{key:b,enabled:D,threshold:o,direction:$})),{currentModalKey:b,backdropClassName:null!=m?m:g,canDismiss:null!=h?h:v,closeDuration:null!=_?_:w,openDuration:null!=p?p:k,sheetClassName:null!=u?u:x,handleOpenModal:M,handleCloseModal:E,open:O,willBeClosed:C}},h=r=>{const{removeModal:n}=a();e.useEffect((()=>()=>{n(r)}),[])},p=r=>{e.useEffect((()=>{if(r)return document.body.style.overflow="hidden",document.body.style.overscrollBehavior="none",()=>{document.body.style.overflow="auto",document.body.style.overscrollBehavior="initial"}}),[r])};function _(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n}function y(e,r){void 0===r&&(r={});var n=r.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}"function"==typeof SuppressedError&&SuppressedError;var f="style-module_backdrop__DzrB2",b="style-module_sheet__wQbZT";y(".style-module_backdrop__DzrB2 {\r\n    top: 0;\r\n    left: 0;\r\n    opacity: 1;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    position: fixed;\r\n    background: var(--react-modal-pro-backdrop-background);\r\n    z-index: var(--react-modal-pro-dialog-backdrop-z-index);\r\n}\r\n\r\n.style-module_sheet__wQbZT {\r\n    top: 50%;\r\n    left: 50%;\r\n    opacity: 1;\r\n    position: fixed;\r\n    transform: translate(-50%, -50%);\r\n    padding: var(--react-modal-pro-sheet-padding);\r\n    border-radius: var(--react-modal-pro-sheet-radius);\r\n    background: var(--react-modal-pro-sheet-background);\r\n    z-index: var(--react-modal-pro-dialog-sheet-z-index);\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n    .style-module_sheet__wQbZT {\r\n        min-width: 80%;\r\n        min-height: 200px;\r\n    }\r\n}\r\n\r\n@media only screen and (min-width: 601px) {\r\n    .style-module_sheet__wQbZT {\r\n        min-width: 400px;\r\n        min-height: 250px;\r\n    }\r\n}");var g="keyframes-module_dialog-fade-in__6i5xd",v="keyframes-module_dialog-fade-out__xvk5y",w="keyframes-module_slide-bottom-in__aWYhS",k="keyframes-module_slide-bottom-out__NrGWt",x="keyframes-module_slide-top-in__S1svl",O="keyframes-module_slide-top-out__3-brR",C="keyframes-module_slide-left-in__IRMHx",M="keyframes-module_slide-left-out__MQecc",E="keyframes-module_slide-right-in__twq0Z",j="keyframes-module_slide-right-out__-Py7X";y("@keyframes keyframes-module_dialog-fade-in__6i5xd {\r\n    0% {\r\n        opacity: 0;\r\n    }\r\n\r\n    100% {\r\n        opacity: initial;\r\n    }\r\n}\r\n\r\n@keyframes keyframes-module_dialog-fade-out__xvk5y {\r\n    0% {\r\n        opacity: initial;\r\n    }\r\n\r\n    100% {\r\n        opacity: 0;\r\n    }\r\n}\r\n\r\n@keyframes keyframes-module_slide-bottom-in__aWYhS {\r\n    0% {\r\n        bottom: -100%;\r\n    }\r\n\r\n    100% {\r\n        bottom: 0;\r\n    }\r\n}\r\n\r\n@keyframes keyframes-module_slide-bottom-out__NrGWt {\r\n    0% {\r\n        bottom: 0;\r\n    }\r\n\r\n    100% {\r\n        bottom: -100%;\r\n    }\r\n}\r\n\r\n@keyframes keyframes-module_slide-top-in__S1svl {\r\n    0% {\r\n        top: -100%;\r\n    }\r\n\r\n    100% {\r\n        top: 0;\r\n    }\r\n}\r\n\r\n@keyframes keyframes-module_slide-top-out__3-brR {\r\n    0% {\r\n        top: 0;\r\n    }\r\n\r\n    100% {\r\n        top: -100%;\r\n    }\r\n}\r\n\r\n@keyframes keyframes-module_slide-left-in__IRMHx {\r\n    0% {\r\n        left: -100%;\r\n    }\r\n\r\n    100% {\r\n        left: 0;\r\n    }\r\n}\r\n\r\n@keyframes keyframes-module_slide-left-out__MQecc {\r\n    0% {\r\n        left: 0;\r\n    }\r\n\r\n    100% {\r\n        left: -100%;\r\n    }\r\n}\r\n\r\n@keyframes keyframes-module_slide-right-in__twq0Z {\r\n    0% {\r\n        right: -100%;\r\n    }\r\n\r\n    100% {\r\n        right: 0;\r\n    }\r\n}\r\n\r\n@keyframes keyframes-module_slide-right-out__-Py7X {\r\n    0% {\r\n        right: 0;\r\n    }\r\n\r\n    100% {\r\n        right: -100%;\r\n    }\r\n}");const S=e.forwardRef(((t,o)=>{const{open:s,openDuration:a,willBeClosed:l,handleClose:d,closeDuration:i,children:c,sheetClassName:m="",backdropClassName:u=""}=t,h={backdrop:{false:`${g} ${a}ms`,true:`${v} ${i}ms`},sheet:{false:`${g} ${a}ms`,true:`${v} ${i}ms`}};return s?n.createPortal(r.jsxs(e.Fragment,{children:[r.jsx("div",{onClick:d,className:`${f} ${u}`,style:{animation:h.backdrop[`${l}`]}}),r.jsx("div",{ref:o,className:`${b} ${m}`,style:{animation:h.sheet[`${l}`]},children:c})]}),document.getElementById("pro-modal-root")):null}));S.displayName="dialog";var D={backdrop:"style-module_backdrop__HHTDx",sheet:"style-module_sheet__SMOKH",sidebar:"style-module_sidebar__4qYdu",prosheet:"style-module_prosheet__NU4O5",bottom:"style-module_bottom__E2hqc",top:"style-module_top__1dEkG",left:"style-module_left__eyrET",right:"style-module_right__Qur9w"};y(".style-module_backdrop__HHTDx {\r\n  top: 0;\r\n  left: 0;\r\n  width: 100svw;\r\n  height: 100svh;\r\n  position: fixed;\r\n  opacity: 1;\r\n  background: var(--react-modal-pro-backdrop-background);\r\n}\r\n\r\n.style-module_sheet__SMOKH {\r\n  position: fixed;\r\n  opacity: 1;\r\n  background: var(--react-modal-pro-sheet-background);\r\n  padding: var(--react-modal-pro-sheet-padding);\r\n  overflow-y: auto;\r\n}\r\n\r\n.style-module_backdrop__HHTDx.style-module_sidebar__4qYdu {\r\n  z-index: var(--react-modal-pro-sidebar-backdrop-z-index);\r\n}\r\n\r\n.style-module_backdrop__HHTDx.style-module_prosheet__NU4O5 {\r\n  z-index: var(--react-modal-pro-pro-sheet-backdrop-z-index);\r\n}\r\n\r\n.style-module_sheet__SMOKH.style-module_sidebar__4qYdu {\r\n  z-index: var(--react-modal-pro-sidebar-sheet-z-index);\r\n}\r\n\r\n.style-module_sheet__SMOKH.style-module_prosheet__NU4O5 {\r\n  z-index: var(--react-modal-pro-pro-sheet-sheet-z-index);\r\n}\r\n\r\n.style-module_sheet__SMOKH.style-module_bottom__E2hqc {\r\n  left: 50%;\r\n  bottom: 0;\r\n  border-top-right-radius: var(--react-modal-pro-sheet-radius);\r\n  border-top-left-radius: var(--react-modal-pro-sheet-radius);\r\n  transform: translateX(-50%);\r\n  max-height: 80vh;\r\n}\r\n\r\n.style-module_sheet__SMOKH.style-module_top__1dEkG {\r\n  left: 50%;\r\n  top: 0;\r\n  border-bottom-right-radius: var(--react-modal-pro-sheet-radius);\r\n  border-bottom-left-radius: var(--react-modal-pro-sheet-radius);\r\n  transform: translateX(-50%);\r\n  max-height: 80vh;\r\n}\r\n\r\n.style-module_sheet__SMOKH.style-module_left__eyrET {\r\n  bottom: 0;\r\n  left: 0;\r\n  border-top-right-radius: var(--react-modal-pro-sheet-radius);\r\n  border-bottom-right-radius: var(--react-modal-pro-sheet-radius);\r\n  height: -webkit-fill-available;\r\n}\r\n\r\n.style-module_sheet__SMOKH.style-module_right__Qur9w {\r\n  top: 0;\r\n  right: 0;\r\n  border-top-left-radius: var(--react-modal-pro-sheet-radius);\r\n  border-bottom-left-radius: var(--react-modal-pro-sheet-radius);\r\n  height: -webkit-fill-available;\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n\r\n  .style-module_sheet__SMOKH.style-module_bottom__E2hqc,\r\n  .style-module_sheet__SMOKH.style-module_top__1dEkG {\r\n    width: 100vw;\r\n    max-width: calc(100% - 24px);\r\n    min-height: 458px;\r\n  }\r\n\r\n  .style-module_sheet__SMOKH.style-module_left__eyrET,\r\n  .style-module_sheet__SMOKH.style-module_right__Qur9w {\r\n    min-width: 33%;\r\n    max-width: calc(100% - 24px);\r\n  }\r\n}\r\n\r\n@media only screen and (min-width: 601px) {\r\n\r\n  .style-module_sheet__SMOKH.style-module_bottom__E2hqc,\r\n  .style-module_sheet__SMOKH.style-module_top__1dEkG {\r\n    min-width: 580px;\r\n    min-height: 458px;\r\n  }\r\n\r\n  .style-module_sheet__SMOKH.style-module_left__eyrET,\r\n  .style-module_sheet__SMOKH.style-module_right__Qur9w {\r\n    min-width: 33%;\r\n  }\r\n}");const $=e.forwardRef(((t,o)=>{const{open:s,openDuration:a,willBeClosed:l,handleClose:d,closeDuration:i,children:c,sheetClassName:m,backdropClassName:u,direction:h,mode:p}=t,_={bottom:{open:`${w}`,close:`${k}`},top:{open:`${x}`,close:`${O}`},left:{open:`${C}`,close:`${M}`},right:{open:`${E}`,close:`${j}`}},y={backdrop:{false:`${g} ${a}ms`,true:`${v} ${i}ms`},sheet:{false:`${_[h].open} ${a}ms`,true:`${_[h].close} ${i}ms`}};return s?n.createPortal(r.jsxs(e.Fragment,{children:[r.jsx("div",{onClick:d,className:`${D.backdrop} ${D[p]} ${u}`,style:{animation:y.backdrop[`${l}`]}}),r.jsx("div",{ref:o,className:`${D.sheet} ${D[p]} ${D[h]} ${m}`,style:{animation:y.sheet[`${l}`]},children:c})]}),document.getElementById("pro-modal-root")):null}));$.displayName="drawer";y(":root {\r\n  --react-modal-pro-sheet-radius: 12px;\r\n  --react-modal-pro-sheet-padding: 24px;\r\n  --react-modal-pro-sheet-background: #ffffff;\r\n  --react-modal-pro-backdrop-background: #0000004a;\r\n  --react-modal-pro-dialog-sheet-z-index: 1200;\r\n  --react-modal-pro-dialog-backdrop-z-index: 1199;\r\n  --react-modal-pro-sidebar-sheet-z-index: 1000;\r\n  --react-modal-pro-sidebar-backdrop-z-index: 999;\r\n  --react-modal-pro-pro-sheet-sheet-z-index: 1100;\r\n  --react-modal-pro-pro-sheet-backdrop-z-index: 1099;\r\n}\r\n\r\nhtml {\r\n  height: -webkit-fill-available;\r\n}\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}");exports.Dialog=n=>{var{TriggerElement:t,children:o}=n,s=_(n,["TriggerElement","children"]);const a=e.useRef(null),l=u(Object.assign(Object.assign({},s),{sheetRef:a})),{handleOpenModal:d,handleCloseModal:i,currentModalKey:c}=l,m=_(l,["handleOpenModal","handleCloseModal","currentModalKey"]);return h(s.modalKey),p(m.open),r.jsxs(e.Fragment,{children:[r.jsx("div",{className:"modal_pro_trigger_element",onClick:d,children:t}),e.createElement(S,Object.assign({},m,{key:c,handleClose:i,ref:a}),o)]})},exports.ProModalProvider=n=>{var{children:t}=n,o=_(n,["children"]);return e.useEffect((()=>{if(!document.getElementById("pro-modal-root")){const e=document.createElement("div");e.setAttribute("id","pro-modal-root"),document.body.append(e)}}),[]),r.jsx(m,Object.assign({},o,{children:r.jsx(d,{children:r.jsx(s,{children:t})})}))},exports.ProSheet=n=>{var{TriggerElement:t,direction:o,children:s}=n,a=_(n,["TriggerElement","direction","children"]);const l=e.useRef(null),d=u(Object.assign(Object.assign({},a),{sheetRef:l,sidebarDirection:o})),{handleOpenModal:i,handleCloseModal:c,currentModalKey:m}=d,y=_(d,["handleOpenModal","handleCloseModal","currentModalKey"]);return h(a.modalKey),p(y.open),r.jsxs(e.Fragment,{children:[r.jsx("div",{className:"modal_pro_trigger_element",onClick:i,children:t}),e.createElement($,Object.assign({},y,{mode:"prosheet",direction:o,key:m,handleClose:c,ref:l}),s)]})},exports.Sidebar=n=>{var{direction:t}=n,o=_(n,["direction"]);const s=e.useRef(null),a=u(Object.assign(Object.assign({sheetRef:s},o),{sidebarDirection:t})),{handleOpenModal:l,handleCloseModal:d,currentModalKey:i}=a,c=_(a,["handleOpenModal","handleCloseModal","currentModalKey"]);return p(c.open),h(o.modalKey),r.jsxs(e.Fragment,{children:[r.jsx("div",{className:"modal_pro_trigger_element",onClick:()=>l(),children:o.TriggerElement}),e.createElement($,Object.assign({},c,{mode:"sidebar",key:i,direction:t,handleClose:d,ref:s}),o.children)]})},exports.useModalController=e=>{var r;const{navigate:n}=i(),{modals:o,setWillBeClosed:s,initialModal:l}=a(),d=e.replaceAll(" ",""),c=null!==(r=o[e])&&void 0!==r?r:l;return{open:c.open,willBeClosed:c.willBeClosed,handleOpenModal:()=>{const{isAlreadyInHash:e,currentHash:r}=t(d);e||n(r+`#${d}`)},handleCloseModal:()=>{s(d,!0)}}};
//# sourceMappingURL=index.js.map
